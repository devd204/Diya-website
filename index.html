<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Apology & About - A Heartfelt Apology</title>

<!-- EmailJS script kept from your About page -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

<style>
    /* --- Apology section styling --- */
    body {
        margin: 0;
        padding: 20px;
        font-family: 'Arial', sans-serif;
        min-height: 100vh;
        background-color: #ff69b4; /* Barbie pink */
        color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .container {
        max-width: 800px;
        width: 100%;
        text-align: center;
        opacity: 0;
        transition: opacity 1s ease-in-out;
        margin-bottom: 40px;
    }
    .container.visible {
        opacity: 1;
    }

    .message {
        font-size: 2em;
        margin-bottom: 30px;
        line-height: 1.4;
    }

    button#nextButton {
        padding: 15px 30px;
        font-size: 1.2em;
        background-color: transparent;
        border: 2px solid white;
        color: white;
        cursor: pointer;
        transition: all 0.3s ease;
        border-radius: 5px;
    }

    button#nextButton:hover {
        background-color: white;
        color: #ff69b4;
    }

    /* --- About section styling (your code) --- */

    #aboutSection {
        opacity: 0;
        transition: opacity 1s ease-in-out;
        max-width: 800px;
        width: 100%;
        text-align: center;
        background: linear-gradient(135deg, #ffcee4, #ffffff);
        color: #880e4f; /* Dark pink text */
        padding: 20px;
        box-sizing: border-box;
        font-family: 'Arial', sans-serif;
        line-height: 1.6;
        display: none; /* hide initially */
    }
    #aboutSection.visible {
        opacity: 1;
        display: block;
    }

    #aboutSection h1 {
        font-size: 2.5em;
        margin-bottom: 30px;
        color: #d81b60; /* Hot pink headings */
    }

    #aboutSection p {
        font-size: 1.2em;
        margin-bottom: 40px;
        color: #880e4f; /* Dark pink paragraph */
    }

    .back-button, .action-button {
        padding: 15px 30px;
        font-size: 1.2em;
        background-color: #d81b60; /* Hot pink button background */
        border: 2px solid #f48fb1; /* lighter pink border */
        color: white;
        cursor: pointer;
        transition: all 0.3s ease;
        border-radius: 5px;
        text-decoration: none;
        margin: 10px;
    }

    .back-button:hover, .action-button:hover {
        background-color: white;
        color: #d81b60;
        border-color: #d81b60;
    }

    .voice-section {
        margin-top: 50px;
        padding: 20px;
        border-top: 1px solid #f48fb1; /* soft pink border */
    }

    #transcription {
        margin: 20px 0;
        padding: 15px;
        background-color: #f8bbd0; /* pastel pink background */
        border-radius: 5px;
        min-height: 100px;
        width: 100%;
        box-sizing: border-box;
        color: #880e4f; /* dark pink text */
        white-space: pre-wrap;
        word-wrap: break-word;
    }

    .recording-indicator {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background-color: #ff4081; /* bright pink */
        display: none;
        margin: 10px auto;
        animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
        0% { transform: scale(1); opacity: 1; }
        50% { transform: scale(1.2); opacity: 0.5; }
        100% { transform: scale(1); opacity: 1; }
    }

    .button-group {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-top: 20px;
        flex-wrap: wrap;
    }

    .status-message {
        margin-top: 15px;
        font-style: italic;
        color: rgba(136, 14, 79, 0.8); /* semi-transparent dark pink */
    }

    .alert {
        padding: 15px;
        border-radius: 5px;
        margin: 10px 0;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .alert.success {
        background-color: rgba(232, 30, 99, 0.2);
        border: 1px solid rgba(232, 30, 99, 0.4);
        color: #f48fb1;
    }

    .alert.error {
        background-color: rgba(220, 53, 69, 0.2);
        border: 1px solid rgba(220, 53, 69, 0.4);
        color: #ff9898;
    }

    .alert.show {
        opacity: 1;
    }

    /* Mobile-friendly adjustments */
    @media (max-width: 600px) {
        body {
            padding: 10px;
        }

        .container {
            max-width: 100%;
            padding: 15px;
        }

        h1 {
            font-size: 2em;
            margin-bottom: 20px;
        }

        p {
            font-size: 1em;
            margin-bottom: 30px;
        }

        .back-button, .action-button {
            padding: 12px 20px;
            font-size: 1em;
            margin: 8px 5px;
        }

        #transcription {
            min-height: 80px;
            font-size: 1em;
            padding: 12px;
        }

        .button-group {
            flex-direction: column;
            gap: 12px;
            align-items: stretch;
        }

        .recording-indicator {
            width: 16px;
            height: 16px;
            margin: 8px auto;
        }
    }
</style>
</head>
<body>

<!-- Apology Section -->
<div class="container visible" id="messageContainer">
    <div class="message" id="messageText">I know things went wrong...</div>
    <button id="nextButton">Keep going</button>
</div>

<!-- About Section (hidden initially) -->
<div id="aboutSection">
    <h1>A Heartfelt Apology</h1>
    <p>
        This website is a deeply personal project, created as an expression of my feelings for Diya. 
        It represents our journey together - the ups and downs, the moments of joy and pain, 
        and most importantly, my sincere desire to make things right. Every word here comes from 
        the depths of my heart, hoping to convey the genuine remorse and love I feel.
    </p>
    <!-- The back button in your about.html, you might want to disable or remove it here
         because it's now one page, or you can keep it to reset the page if you want -->
    <!-- <a href="Apology.html" class="back-button">Back</a> -->

    <div class="voice-section">
        <h2>Speak Your Heart</h2>
        <div class="recording-indicator" id="recordingIndicator"></div>
        <div id="transcription"></div>
        <div class="alert" id="alertBox"></div>
        <div class="button-group">
            <button class="action-button" id="startRecording">Start Speaking</button>
            <button class="action-button" id="sendMessage" style="display: none;">Send Message</button>
        </div>
        <div class="status-message" id="statusMessage"></div>
    </div>
</div>

<script>
    // Apology messages array
    const messages = [
        "I've been thinking about everything...",
        "That night when I hurt you so much",
        "About the times I could have done better...",
        "About the pain I caused...",
        "I realize now how much I hurt you...",
        "And I want you to know...",
        "From the bottom of my heart...",
        "I am truly, deeply sorry...",
        "I know I can't take back the past...",
        "But I promise to be a better person...",
        "I promise to be more understanding...",
        "I promise to be more patient...",
        "I promise to be more loving...",
        "I promise to be more caring...",
        "I want to hear what you have to say...",
        "Lets talk, heart to heart..."
    ];

    let currentIndex = 0;
    const container = document.getElementById('messageContainer');
    const messageText = document.getElementById('messageText');
    const nextButton = document.getElementById('nextButton');
    const aboutSection = document.getElementById('aboutSection');

    nextButton.addEventListener('click', () => {
        if (currentIndex < messages.length) {
            container.classList.remove('visible');

            setTimeout(() => {
                messageText.textContent = messages[currentIndex];
                container.classList.add('visible');
                currentIndex++;

                if (currentIndex === messages.length) {
                    // After last message, hide apology section & show about section
                    setTimeout(() => {
                        container.style.display = 'none'; // hide apology
                        aboutSection.style.display = 'block'; // show about
                        setTimeout(() => {
                            aboutSection.classList.add('visible');
                        }, 50);
                    }, 1000);

                    nextButton.style.display = 'none'; // hide button
                }
            }, 1000);
        }
    });

    // Your EmailJS + Speech Recognition code from your About page

   
